# 🎯 웹사이트 탐색 매뉴얼 (단계별 명령 방식)

## ⚠️ 중요: AI에게 지시할 때의 원칙

**❌ 잘못된 방식:**
```
"사이트를 탐색하고 모든 데이터를 수집해줘"
```
→ AI가 알아서 판단하다가 단계를 스킵함

**✅ 올바른 방식:**
```
"지금 DOM 가져와"
"이제 스크린샷 찍어"
"저장해"
```
→ 각 단계를 개별적으로 명령

---

## 📋 탐색 체크리스트

사용자는 아래 명령을 **하나씩** AI에게 전달하세요.

### PHASE 1: 초기 상태 캡처

```
1-1. 탭 정보 가져와
1-2. 페이지 상세정보 가져와
1-3. DOM 구조 가져와
1-4. 보이는 요소들 가져와
1-5. 스크린샷 찍어
1-6. 스크린샷 저장해 (step 1, scroll 0)
```

### PHASE 2: 스크롤 탐색 (10번 반복)

**각 스크롤마다 아래 명령을 순서대로:**

```
2-1. PageDown 눌러서 스크롤해
2-2. 500ms 기다려
2-3. 현재 스크롤 위치 확인해
2-4. 지금 위치에서 DOM 다시 가져와
2-5. 지금 위치에서 보이는 요소들 다시 가져와
2-6. 스크린샷 찍어
2-7. 스크린샷 저장해 (step N, scroll X%)
2-8. (3번째마다) 저장된 파일 개수 확인해
```

**10번 반복**

### PHASE 3: 인터랙션 테스트

```
3-1. 맨 위로 스크롤 올려
3-2. 네비게이션 링크 첫 번째에 hover해
3-3. 스크린샷 찍어
3-4. 저장해
3-5. 네비게이션 링크 두 번째에 hover해
3-6. 스크린샷 찍어
3-7. 저장해
... (5개 링크 반복)
```

### PHASE 4: 다른 페이지 탐색

```
4-1. /about 페이지로 이동해
4-2. DOM 가져와
4-3. 요소들 가져와
4-4. 스크린샷 찍어
4-5. 저장해
4-6. 원래 페이지로 돌아와
... (3개 페이지 반복)
```

---

## 🎯 사용 예시

### 예시 1: 스크롤 1회차

**사용자:**
> PageDown 눌러서 스크롤해

**AI 실행:**
```typescript
await mcp_kapture_keypress({ tabId: "xxx", key: "PageDown" });
```

**사용자:**
> 500ms 기다려

**AI 실행:**
```typescript
await sleep(500);
```

**사용자:**
> 현재 스크롤 위치 확인해

**AI 실행:**
```typescript
const detail = await mcp_kapture_tab_detail({ tabId: "xxx" });
console.log(`ScrollY: ${detail.scrollY}`);
```

**사용자:**
> 지금 위치에서 DOM 다시 가져와

**AI 실행:**
```typescript
const dom = await mcp_kapture_dom({ tabId: "xxx" });
```

**사용자:**
> 지금 위치에서 보이는 요소들 다시 가져와

**AI 실행:**
```typescript
const elements = await mcp_kapture_elements({ tabId: "xxx", visible: "true" });
```

**사용자:**
> 스크린샷 찍어

**AI 실행:**
```typescript
const screenshot = await mcp_kapture_screenshot({ tabId: "xxx", format: "webp", quality: 0.7, scale: 0.3 });
```

**사용자:**
> 스크린샷 저장해 step 2 scroll 4%

**AI 실행:**
```bash
echo "${screenshot.preview}" | node scripts/download_screenshot.js 2 4
```

---

## 💡 왜 이 방식이 작동하는가?

1. **AI가 판단할 여지 없음**
   - 각 명령이 너무 구체적이라 "최적화" 불가능

2. **사용자가 통제권 보유**
   - 각 단계 완료를 확인 후 다음 명령

3. **문제 발생 시 즉시 발견**
   - 어느 단계에서 문제인지 바로 알 수 있음

---

## 🚀 빠른 시작

```bash
# 1. 브라우저에서 사이트 열기
# 2. 아래 명령을 하나씩 AI에게 전달

"탭 정보 가져와"
"페이지 상세정보 가져와"
"DOM 구조 가져와"
"보이는 요소들 가져와"
"스크린샷 찍어"
"스크린샷 저장해 step 1 scroll 0"

# 3. 스크롤 시작
"PageDown 눌러서 스크롤해"
"500ms 기다려"
"현재 스크롤 위치 확인해"
"지금 위치에서 DOM 다시 가져와"
"지금 위치에서 보이는 요소들 다시 가져와"
"스크린샷 찍어"
"스크린샷 저장해 step 2 scroll X"

# 4. 위 스크롤 단계를 10번 반복
```

---

## ✅ 성공 기준

- [ ] 초기 캡처 완료 (1개 파일)
- [ ] 스크롤 10회 완료 (10개 파일, 각각 다른 위치)
- [ ] 인터랙션 5회 완료 (5개 파일)
- [ ] 다른 페이지 3개 탐색 (3개 파일)
- [ ] **총 19개 이상 파일**
- [ ] **각 파일이 다른 내용** (동일한 스크린샷 반복 아님)

---

**이제 테스트해볼까요? 위의 명령을 하나씩 전달해주세요!**
